webpackJsonp([0],{'../node_modules/css-loader/index.js?{"importLoaders":1}!../node_modules/postcss-loader/lib/index.js!./style/src.css':/*!*********************************************************************************************************!*\
  !*** ../node_modules/css-loader?{"importLoaders":1}!../node_modules/postcss-loader/lib!./style/src.css ***!
  \*********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t,s){t=e.exports=s(/*! ../../node_modules/css-loader/lib/css-base.js */"../node_modules/css-loader/lib/css-base.js")(void 0),t.push([e.i,"body,html{height:100%;width:1020px;margin:0 auto;padding:0}*{outline:0!important}.box_slider{width:300px;margin:50px auto}.title{text-align:center}.slider{width:310px;height:15px;margin:5px;margin-bottom:50px;border-radius:10px;background:#646464 radial-gradient(circle at 0 0,hsla(0,0%,100%,.65),hsla(0,0%,100%,.35))}.slider,.slider__thumb{-webkit-box-shadow:inset rgba(0,0,0,.5) -3px -3px 8px,inset hsla(0,0%,100%,.9) 3px 3px 8px,rgba(0,0,0,.8) 3px 3px 8px -3px;box-shadow:inset -3px -3px 8px rgba(0,0,0,.5),inset 3px 3px 8px hsla(0,0%,100%,.9),3px 3px 8px -3px rgba(0,0,0,.8)}.slider__thumb{width:15px;height:25px;border-radius:3px;position:relative;left:0;top:-5px;background:blue;cursor:pointer}.slider_show{border-radius:5px;padding:5px;display:inline-block;background:#ff0;margin:40px auto;width:120px;color:#cd5c5c;font-size:18px;-webkit-box-shadow:inset rgba(0,0,0,.5) -3px -3px 8px,inset hsla(0,0%,100%,.9) 3px 3px 8px,rgba(0,0,0,.8) 3px 3px 8px -3px;box-shadow:inset -3px -3px 8px rgba(0,0,0,.5),inset 3px 3px 8px hsla(0,0%,100%,.9),3px 3px 8px -3px rgba(0,0,0,.8)}.volume{color:green}.pre_input{color:#cd5c5c;font-size:18px}.slider_but{display:block;cursor:pointer;text-align:center;font:italic 14px/1.3 arial,sans-serif;margin:1em auto;padding:1em;border-radius:10px;background:#646464 radial-gradient(circle at 0 0,hsla(0,0%,100%,.65),hsla(0,0%,100%,.35));-webkit-box-shadow:inset rgba(0,0,0,.5) -3px -3px 8px,inset hsla(0,0%,100%,.9) 3px 3px 8px,rgba(0,0,0,.8) 3px 3px 8px -3px;box-shadow:inset -3px -3px 8px rgba(0,0,0,.5),inset 3px 3px 8px hsla(0,0%,100%,.9),3px 3px 8px -3px rgba(0,0,0,.8)}",""])},"../node_modules/css-loader/lib/css-base.js":/*!**************************************************!*\
  !*** ../node_modules/css-loader/lib/css-base.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t){function s(e,t){var s=e[1]||"",n=e[3];if(!n)return s;if(t&&"function"==typeof btoa){var r=i(n);return[s].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([r]).join("\n")}return[s].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=s(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,s){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},n=0;n<this.length;n++){var r=this[n][0];"number"==typeof r&&(i[r]=!0)}for(n=0;n<e.length;n++){var o=e[n];"number"==typeof o[0]&&i[o[0]]||(s&&!o[2]?o[2]=s:s&&(o[2]="("+o[2]+") and ("+s+")"),t.push(o))}},t}},"../node_modules/style-loader/lib/addStyles.js":/*!*****************************************************!*\
  !*** ../node_modules/style-loader/lib/addStyles.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t,s){function i(e,t){for(var s=0;s<e.length;s++){var i=e[s],n=f[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(h(i.parts[r],t))}else{for(var o=[],r=0;r<i.parts.length;r++)o.push(h(i.parts[r],t));f[i.id]={id:i.id,refs:1,parts:o}}}}function n(e,t){for(var s=[],i={},n=0;n<e.length;n++){var r=e[n],o=t.base?r[0]+t.base:r[0],a=r[1],l=r[2],u=r[3],h={css:a,media:l,sourceMap:u};i[o]?i[o].parts.push(h):s.push(i[o]={id:o,parts:[h]})}return s}function r(e,t){var s=b(e.insertInto);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=x[x.length-1];if("top"===e.insertAt)i?i.nextSibling?s.insertBefore(t,i.nextSibling):s.appendChild(t):s.insertBefore(t,s.firstChild),x.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");s.appendChild(t)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=x.indexOf(e);t>=0&&x.splice(t,1)}function a(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),r(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),r(e,t),t}function u(e,t){Object.keys(t).forEach(function(s){e.setAttribute(s,t[s])})}function h(e,t){var s,i,n,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var u=g++;s=v||(v=a(t)),i=d.bind(null,s,u,!1),n=d.bind(null,s,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=l(t),i=p.bind(null,s,t),n=function(){o(s),s.href&&URL.revokeObjectURL(s.href)}):(s=a(t),i=c.bind(null,s),n=function(){o(s)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}function d(e,t,s,i){var n=s?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,n);else{var r=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function c(e,t){var s=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}function p(e,t,s){var i=s.css,n=s.sourceMap,r=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||r)&&(i=_(i)),n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var f={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),b=function(e){var t={};return function(s){return void 0===t[s]&&(t[s]=e.call(this,s)),t[s]}}(function(e){return document.querySelector(e)}),v=null,g=0,x=[],_=s(/*! ./urls */"../node_modules/style-loader/lib/urls.js");e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var s=n(e,t);return i(s,t),function(e){for(var r=[],o=0;o<s.length;o++){var a=s[o],l=f[a.id];l.refs--,r.push(l)}if(e){i(n(e,t),t)}for(var o=0;o<r.length;o++){var l=r[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var y=function(){var e=[];return function(t,s){return e[t]=s,e.filter(Boolean).join("\n")}}()},"../node_modules/style-loader/lib/urls.js":/*!************************************************!*\
  !*** ../node_modules/style-loader/lib/urls.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var s=t.protocol+"//"+t.host,i=s+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(n))return e;var r;return r=0===n.indexOf("//")?n:0===n.indexOf("/")?s+n:i+n.replace(/^\.\//,""),"url("+JSON.stringify(r)+")"})}},"./binder_comp.js":/*!************************!*\
  !*** ./binder_comp.js ***!
  \************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),r=s(/*! ./script/slider.js */"./script/slider.js"),o=s(/*! ./script/num_slider.js */"./script/num_slider.js");s(/*! ./style/src.css */"./style/src.css"),new(function(){function e(t){i(this,e),this.elem=t.elem,this.sliderElem=this.elem.querySelector(".slider"),this.thumbElem=this.elem.querySelector(".slider__thumb"),this.sliderComponent=new r.Slider({elem:this.elem}),this.numComponent=new o.NumericInput({elem:this.elem.querySelector(".slider_show")}),this.setValueInInput=this.setValueInInput.bind(this),this.setThumb=this.setThumb.bind(this),this.halfVolume=this.halfVolume.bind(this),this.elem.addEventListener("setting",this.setValueInInput),this.elem.addEventListener("setlength",this.setThumb),this.elem.addEventListener("click",this.halfVolume)}return n(e,[{key:"setValueInInput",value:function(e){this.elem.querySelector(".slider_show").value=e.detail.value}},{key:"setThumb",value:function(e){this.elem.querySelector(".slider__thumb").style.left=e.detail.length}},{key:"halfVolume",value:function(e){this.target=e.target,this.target.classList.contains("slider_but")&&this.sliderComponent.setValue((this.sliderElem.offsetWidth-this.thumbElem.offsetWidth)/2)}}]),e}())({elem:document.querySelector(".box_slider")})},"./script/num_slider.js":/*!******************************!*\
  !*** ./script/num_slider.js ***!
  \******************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this.elem=t.elem,this.slider=document.querySelector(".slider"),this.thumb=document.querySelector(".slider__thumb"),this.checkValue=this.checkValue.bind(this),this.inputNum=this.inputNum.bind(this),this.setThumb=this.setThumb.bind(this),this.elem.addEventListener("keypress",this.inputNum)}return n(e,[{key:"inputNum",value:function(e){this.target=e.target,isFinite(String.fromCharCode(e.keyCode))?this.elem.addEventListener("input",this.checkValue):e.preventDefault()}},{key:"checkValue",value:function(){this.elem.value>100&&(this.elem.value=100),this.setThumb(this.elem.value)}},{key:"setThumb",value:function(e){this.length=e*this.slider.offsetWidth/100-this.thumb.offsetWidth/2,this.length<0&&(this.length=0),this.eventInput=new CustomEvent("setlength",{bubbles:!0,detail:{length:this.length+"px"}}),this.elem.dispatchEvent(this.eventInput)}}]),e}();t.NumericInput=r},"./script/slider.js":/*!**************************!*\
  !*** ./script/slider.js ***!
  \**************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t,s){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this._elem=t.elem,this._elemCapture=this._elemCapture.bind(this),this._zeroingOut=this._zeroingOut.bind(this),this._moveAt=this._moveAt.bind(this),this._dragstart=this._dragstart.bind(this),this._elem.addEventListener("mousedown",this._elemCapture),this.setValue=this.setValue.bind(this),this._thumb=this._elem.querySelector(".slider__thumb"),this._slider=this._elem.querySelector(".slider"),this._html=document.documentElement}return n(e,[{key:"_elemCapture",value:function(e){this._target=e.target,this._event=e,this._target.addEventListener("dragstart",this._dragstart),this._target.classList.contains("slider__thumb")&&(this._slider.addEventListener("mousemove",this._moveAt),this._html.addEventListener("mouseup",this._zeroingOut),this._coordsThumb=this._getCoords(this._target),this._shiftX=this._event.pageX-this._coordsThumb.left)}},{key:"_moveAt",value:function(e){this._event=e,this._target=e.target,this._target.classList.contains("slider")&&(this._sliderCoords=this._getCoords(this._slider),this._leftThumb=this._event.pageX-this._sliderCoords.left-this._shiftX,this._leftThumb<0&&(this._leftThumb=0),this._rightThumb=this._slider.offsetWidth-this._thumb.offsetWidth,this._leftThumb>this._rightThumb&&(this._leftThumb=this._rightThumb),this.setValue(this._leftThumb))}},{key:"setValue",value:function(e){this._thumb.style.left=e+"px",this.numeric=Math.round(e/(this._slider.offsetWidth-this._thumb.offsetWidth)*100),this.valueSlider=new CustomEvent("setting",{bubbles:!0,detail:{value:this.numeric}}),this._slider.dispatchEvent(this.valueSlider)}},{key:"_zeroingOut",value:function(){this._slider.removeEventListener("mousemove",this._moveAt),this._html.removeEventListener("mouseup",this._zeroingOut)}},{key:"_dragstart",value:function(){event.preventDefault()}},{key:"_getCoords",value:function(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,bottom:t.bottom+pageYOffset,left:t.left+pageXOffset,right:t.right+pageXOffset}}}]),e}();t.Slider=r},"./style/src.css":/*!***********************!*\
  !*** ./style/src.css ***!
  \***********************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
function(e,t,s){var i=s(/*! !../../node_modules/css-loader??ref--0-1!../../node_modules/postcss-loader/lib!./src.css */'../node_modules/css-loader/index.js?{"importLoaders":1}!../node_modules/postcss-loader/lib/index.js!./style/src.css');"string"==typeof i&&(i=[[e.i,i,""]]);var n={};n.transform=void 0;var r=s(/*! ../../node_modules/style-loader/lib/addStyles.js */"../node_modules/style-loader/lib/addStyles.js")(i,n);i.locals&&(e.exports=i.locals),i.locals||e.hot.accept(/*! !../../node_modules/css-loader??ref--0-1!../../node_modules/postcss-loader/lib!./src.css */'../node_modules/css-loader/index.js?{"importLoaders":1}!../node_modules/postcss-loader/lib/index.js!./style/src.css',function(){var t=s(/*! !../../node_modules/css-loader??ref--0-1!../../node_modules/postcss-loader/lib!./src.css */'../node_modules/css-loader/index.js?{"importLoaders":1}!../node_modules/postcss-loader/lib/index.js!./style/src.css');"string"==typeof t&&(t=[[e.i,t,""]]),r(t)}),e.hot.dispose(function(){r()})}},["./binder_comp.js"]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwLWJ1bmRsZS5qcyIsIndlYnBhY2s6Ly8vLi9zdHlsZS9zcmMuY3NzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9iaW5kZXJfY29tcC5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHQvbnVtX3NsaWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHQvc2xpZGVyLmpzIiwid2VicGFjazovLy8uL3N0eWxlL3NyYy5jc3M/NWE5YSJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz97XCJpbXBvcnRMb2FkZXJzXCI6MX0hLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2xpYi9pbmRleC5qcyEuL3N0eWxlL3NyYy5jc3MiLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInVuZGVmaW5lZCIsInB1c2giLCJpIiwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIml0ZW0iLCJ1c2VTb3VyY2VNYXAiLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwidG9Db21tZW50IiwiY29uY2F0Iiwic291cmNlcyIsIm1hcCIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJqb2luIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImlkIiwiLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJvcHRpb25zIiwiZG9tU3R5bGUiLCJzdHlsZXNJbkRvbSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJjc3MiLCJtZWRpYSIsInBhcnQiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsInRhcmdldCIsImdldEVsZW1lbnQiLCJpbnNlcnRJbnRvIiwiRXJyb3IiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJzIiwidHlwZSIsImFkZEF0dHJzIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJsaW5rIiwicmVsIiwiZWwiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsInRyYW5zZm9ybSIsInNpbmdsZXRvbiIsInN0eWxlSW5kZXgiLCJzaW5nbGV0b25Db3VudGVyIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJpbmQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwidXBkYXRlTGluayIsImhyZWYiLCJhcHBseVRvVGFnIiwibmV3T2JqIiwiaW5kZXgiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsInJlcGxhY2VUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwiZml4VXJscyIsImJsb2IiLCJvbGRTcmMiLCJpc09sZElFIiwiZm4iLCJtZW1vIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ3aW5kb3ciLCJhbGwiLCJhdG9iIiwic2VsZWN0b3IiLCJjYWxsIiwicXVlcnlTZWxlY3RvciIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsIi4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCJvIiwiJDEiLCJ0ZXN0IiwibmV3VXJsIiwiLi9iaW5kZXJfY29tcC5qcyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJfc2xpZGVyIiwiX251bV9zbGlkZXIiLCJCaW5kZXJDb21wb25lbnQiLCJvcHRpb24iLCJlbGVtIiwic2xpZGVyRWxlbSIsInRodW1iRWxlbSIsInNsaWRlckNvbXBvbmVudCIsIlNsaWRlciIsIm51bUNvbXBvbmVudCIsIk51bWVyaWNJbnB1dCIsInNldFZhbHVlSW5JbnB1dCIsInNldFRodW1iIiwiaGFsZlZvbHVtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YWx1ZSIsImV2ZW50IiwiZGV0YWlsIiwibGVmdCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwic2V0VmFsdWUiLCJvZmZzZXRXaWR0aCIsIi4vc2NyaXB0L251bV9zbGlkZXIuanMiLCJzbGlkZXIiLCJ0aHVtYiIsImNoZWNrVmFsdWUiLCJpbnB1dE51bSIsImlzRmluaXRlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwia2V5Q29kZSIsInByZXZlbnREZWZhdWx0IiwibnVtIiwiZXZlbnRJbnB1dCIsIkN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImRpc3BhdGNoRXZlbnQiLCIuL3NjcmlwdC9zbGlkZXIuanMiLCJfZWxlbSIsIl9lbGVtQ2FwdHVyZSIsIl96ZXJvaW5nT3V0IiwiX21vdmVBdCIsIl9kcmFnc3RhcnQiLCJfdGh1bWIiLCJfaHRtbCIsImRvY3VtZW50RWxlbWVudCIsIl90YXJnZXQiLCJfZXZlbnQiLCJfY29vcmRzVGh1bWIiLCJfZ2V0Q29vcmRzIiwiX3NoaWZ0WCIsInBhZ2VYIiwiX3NsaWRlckNvb3JkcyIsIl9sZWZ0VGh1bWIiLCJfcmlnaHRUaHVtYiIsIm51bWVyaWMiLCJNYXRoIiwicm91bmQiLCJ2YWx1ZVNsaWRlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJwYWdlWU9mZnNldCIsImJvdHRvbSIsInBhZ2VYT2Zmc2V0IiwicmlnaHQiLCIuL3N0eWxlL3NyYy5jc3MiLCJsb2NhbHMiLCJob3QiLCJhY2NlcHQiLCJuZXdDb250ZW50IiwiZGlzcG9zZSJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkM7Ozs7OztBQU9BLFNBQVVDLEVBQVFDLEVBQVNDLEdDVGpDRCxFQUFBRCxFQUFBQyxRQUFBQyxzREFBQSxrREFBQUMsSUFLQUYsRUFBQUcsTUFBQUosRUFBQUssRUFBQSwya0RBQWttRCxNRGtCNWxEQzs7Ozs7O0FBT0EsU0FBVU4sRUFBUUMsR0VtQnhCLFFBQUFNLEdBQUFDLEVBQUFDLEdBQ0Es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UEMsTUFBTWdCLG9CUGd2Qk5sSCxJQUFLLGFBQ0xpRyxNQUFPLFNPOXVCQVgsR0FDUCxHQUFJeUQsR0FBTXpELEVBQUswRCx1QkFFZixRQUNJQyxJQUFLRixFQUFJRSxJQUFNQyxZQUNmQyxPQUFRSixFQUFJSSxPQUFTRCxZQUNyQjlDLEtBQU0yQyxFQUFJM0MsS0FBT2dELFlBQ2pCQyxNQUFPTixFQUFJTSxNQUFRRCxpQlBtdkJwQjFELElBR1gzSyxHT2p2QlEySyxVUHF2QkY0RDs7Ozs7O0FBT0EsU0FBVXhPLEVBQVFDLEVBQVNDLEdRaDFCakMsR0FBQVEsR0FBQVIsaUdBQUEsc0hBQ0EsaUJBQUFRLFNBQUFWLEVBQUFLLEVBQUFLLEVBQUEsS0FFQSxJQUVBMkIsS0FDQUEsR0FBQW1ELGNBSEFBLEVBS0EsSUFBQUgsR0FBQW5GLHlEQUFBLGlEQUFBUSxFQUFBMkIsRUFDQTNCLEdBQUErTixTQUFBek8sRUFBQUMsUUFBQVMsRUFBQStOLFFBSUEvTixFQUFBK04sUUFDQXpPLEVBQUEwTyxJQUFBQyxzR0FBQSxpSUFDQSxHQUFBQyxHQUFBMU8saUdBQUEsc0hBQ0EsaUJBQUEwTyxTQUFBNU8sRUFBQUssRUFBQXVPLEVBQUEsTUFDQXZKLEVBQUF1SixLQUlBNU8sRUFBQTBPLElBQUFHLFFBQUEsV0FBZ0N4SixTUjAxQjdCIiwiZmlsZSI6ImFwcC1idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzBdLHtcblxuLyoqKi8gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz97XFxcImltcG9ydExvYWRlcnNcXFwiOjF9IS4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanMhLi9zdHlsZS9zcmMuY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXI/e1wiaW1wb3J0TG9hZGVyc1wiOjF9IS4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIhLi9zdHlsZS9zcmMuY3NzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyAqLyBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSh1bmRlZmluZWQpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaSwgXCJib2R5LGh0bWx7aGVpZ2h0OjEwMCU7d2lkdGg6MTAyMHB4O21hcmdpbjowIGF1dG87cGFkZGluZzowfSp7b3V0bGluZTowIWltcG9ydGFudH0uYm94X3NsaWRlcnt3aWR0aDozMDBweDttYXJnaW46NTBweCBhdXRvfS50aXRsZXt0ZXh0LWFsaWduOmNlbnRlcn0uc2xpZGVye3dpZHRoOjMxMHB4O2hlaWdodDoxNXB4O21hcmdpbjo1cHg7bWFyZ2luLWJvdHRvbTo1MHB4O2JvcmRlci1yYWRpdXM6MTBweDtiYWNrZ3JvdW5kOiM2NDY0NjQgcmFkaWFsLWdyYWRpZW50KGNpcmNsZSBhdCAwIDAsaHNsYSgwLDAlLDEwMCUsLjY1KSxoc2xhKDAsMCUsMTAwJSwuMzUpKX0uc2xpZGVyLC5zbGlkZXJfX3RodW1iey13ZWJraXQtYm94LXNoYWRvdzppbnNldCByZ2JhKDAsMCwwLC41KSAtM3B4IC0zcHggOHB4LGluc2V0IGhzbGEoMCwwJSwxMDAlLC45KSAzcHggM3B4IDhweCxyZ2JhKDAsMCwwLC44KSAzcHggM3B4IDhweCAtM3B4O2JveC1zaGFkb3c6aW5zZXQgLTNweCAtM3B4IDhweCByZ2JhKDAsMCwwLC41KSxpbnNldCAzcHggM3B4IDhweCBoc2xhKDAsMCUsMTAwJSwuOSksM3B4IDNweCA4cHggLTNweCByZ2JhKDAsMCwwLC44KX0uc2xpZGVyX190aHVtYnt3aWR0aDoxNXB4O2hlaWdodDoyNXB4O2JvcmRlci1yYWRpdXM6M3B4O3Bvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6MDt0b3A6LTVweDtiYWNrZ3JvdW5kOmJsdWU7Y3Vyc29yOnBvaW50ZXJ9LnNsaWRlcl9zaG93e2JvcmRlci1yYWRpdXM6NXB4O3BhZGRpbmc6NXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQ6I2ZmMDttYXJnaW46NDBweCBhdXRvO3dpZHRoOjEyMHB4O2NvbG9yOiNjZDVjNWM7Zm9udC1zaXplOjE4cHg7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IHJnYmEoMCwwLDAsLjUpIC0zcHggLTNweCA4cHgsaW5zZXQgaHNsYSgwLDAlLDEwMCUsLjkpIDNweCAzcHggOHB4LHJnYmEoMCwwLDAsLjgpIDNweCAzcHggOHB4IC0zcHg7Ym94LXNoYWRvdzppbnNldCAtM3B4IC0zcHggOHB4IHJnYmEoMCwwLDAsLjUpLGluc2V0IDNweCAzcHggOHB4IGhzbGEoMCwwJSwxMDAlLC45KSwzcHggM3B4IDhweCAtM3B4IHJnYmEoMCwwLDAsLjgpfS52b2x1bWV7Y29sb3I6Z3JlZW59LnByZV9pbnB1dHtjb2xvcjojY2Q1YzVjO2ZvbnQtc2l6ZToxOHB4fS5zbGlkZXJfYnV0e2Rpc3BsYXk6YmxvY2s7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udDppdGFsaWMgMTRweC8xLjMgYXJpYWwsc2Fucy1zZXJpZjttYXJnaW46MWVtIGF1dG87cGFkZGluZzoxZW07Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6IzY0NjQ2NCByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDAgMCxoc2xhKDAsMCUsMTAwJSwuNjUpLGhzbGEoMCwwJSwxMDAlLC4zNSkpOy13ZWJraXQtYm94LXNoYWRvdzppbnNldCByZ2JhKDAsMCwwLC41KSAtM3B4IC0zcHggOHB4LGluc2V0IGhzbGEoMCwwJSwxMDAlLC45KSAzcHggM3B4IDhweCxyZ2JhKDAsMCwwLC44KSAzcHggM3B4IDhweCAtM3B4O2JveC1zaGFkb3c6aW5zZXQgLTNweCAtM3B4IDhweCByZ2JhKDAsMCwwLC41KSxpbnNldCAzcHggM3B4IDhweCBoc2xhKDAsMCUsMTAwJSwuOSksM3B4IDNweCA4cHggLTNweCByZ2JhKDAsMCwwLC44KX1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24oc2VsZWN0b3IpIHtcblx0XHRpZiAodHlwZW9mIG1lbW9bc2VsZWN0b3JdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHRtZW1vW3NlbGVjdG9yXSA9IGZuLmNhbGwodGhpcywgc2VsZWN0b3IpO1xuXHRcdH1cblxuXHRcdHJldHVybiBtZW1vW3NlbGVjdG9yXVxuXHR9O1xufSkoZnVuY3Rpb24gKHRhcmdldCkge1xuXHRyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpXG59KTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXJscyAqLyBcIi4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24pIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG5cdGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcLykvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2JpbmRlcl9jb21wLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9iaW5kZXJfY29tcC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3NsaWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2NyaXB0L3NsaWRlci5qcyAqLyBcIi4vc2NyaXB0L3NsaWRlci5qc1wiKTtcblxudmFyIF9udW1fc2xpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zY3JpcHQvbnVtX3NsaWRlci5qcyAqLyBcIi4vc2NyaXB0L251bV9zbGlkZXIuanNcIik7XG5cbl9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3R5bGUvc3JjLmNzcyAqLyBcIi4vc3R5bGUvc3JjLmNzc1wiKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEJpbmRlckNvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaW5kZXJDb21wb25lbnQob3B0aW9uKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCaW5kZXJDb21wb25lbnQpO1xuXG4gICAgICAgIHRoaXMuZWxlbSA9IG9wdGlvbi5lbGVtO1xuICAgICAgICB0aGlzLnNsaWRlckVsZW0gPSB0aGlzLmVsZW0ucXVlcnlTZWxlY3RvcignLnNsaWRlcicpO1xuICAgICAgICB0aGlzLnRodW1iRWxlbSA9IHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX190aHVtYicpO1xuXG4gICAgICAgIHRoaXMuc2xpZGVyQ29tcG9uZW50ID0gbmV3IF9zbGlkZXIuU2xpZGVyKHsgZWxlbTogdGhpcy5lbGVtIH0pO1xuICAgICAgICB0aGlzLm51bUNvbXBvbmVudCA9IG5ldyBfbnVtX3NsaWRlci5OdW1lcmljSW5wdXQoeyBlbGVtOiB0aGlzLmVsZW0ucXVlcnlTZWxlY3RvcignLnNsaWRlcl9zaG93JykgfSk7XG5cbiAgICAgICAgdGhpcy5zZXRWYWx1ZUluSW5wdXQgPSB0aGlzLnNldFZhbHVlSW5JbnB1dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFRodW1iID0gdGhpcy5zZXRUaHVtYi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbGZWb2x1bWUgPSB0aGlzLmhhbGZWb2x1bWUuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmVsZW0uYWRkRXZlbnRMaXN0ZW5lcignc2V0dGluZycsIHRoaXMuc2V0VmFsdWVJbklucHV0KTtcbiAgICAgICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3NldGxlbmd0aCcsIHRoaXMuc2V0VGh1bWIpO1xuICAgICAgICB0aGlzLmVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbGZWb2x1bWUpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhCaW5kZXJDb21wb25lbnQsIFt7XG4gICAgICAgIGtleTogJ3NldFZhbHVlSW5JbnB1dCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZUluSW5wdXQoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX3Nob3cnKS52YWx1ZSA9IGV2ZW50LmRldGFpbC52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2V0VGh1bWInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGh1bWIoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX190aHVtYicpLnN0eWxlLmxlZnQgPSBldmVudC5kZXRhaWwubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoYWxmVm9sdW1lJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbGZWb2x1bWUoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlcl9idXQnKSkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5zbGlkZXJDb21wb25lbnQuc2V0VmFsdWUoKHRoaXMuc2xpZGVyRWxlbS5vZmZzZXRXaWR0aCAtIHRoaXMudGh1bWJFbGVtLm9mZnNldFdpZHRoKSAvIDIpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEJpbmRlckNvbXBvbmVudDtcbn0oKTtcblxubmV3IEJpbmRlckNvbXBvbmVudCh7IGVsZW06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib3hfc2xpZGVyJykgfSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc2NyaXB0L251bV9zbGlkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NjcmlwdC9udW1fc2xpZGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIE51bWVyaWNJbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOdW1lcmljSW5wdXQob3B0aW9ucykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtZXJpY0lucHV0KTtcblxuICAgICAgICB0aGlzLmVsZW0gPSBvcHRpb25zLmVsZW07XG4gICAgICAgIHRoaXMuc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcicpO1xuICAgICAgICB0aGlzLnRodW1iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fdGh1bWInKTtcblxuICAgICAgICB0aGlzLmNoZWNrVmFsdWUgPSB0aGlzLmNoZWNrVmFsdWUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dE51bSA9IHRoaXMuaW5wdXROdW0uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRUaHVtYiA9IHRoaXMuc2V0VGh1bWIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5pbnB1dE51bSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKE51bWVyaWNJbnB1dCwgW3tcbiAgICAgICAga2V5OiAnaW5wdXROdW0nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5wdXROdW0oZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgICAgICAgICBpZiAoIWlzRmluaXRlKFN0cmluZy5mcm9tQ2hhckNvZGUoZXZlbnQua2V5Q29kZSkpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5jaGVja1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY2hlY2tWYWx1ZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja1ZhbHVlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbS52YWx1ZSA+IDEwMCkgdGhpcy5lbGVtLnZhbHVlID0gMTAwO1xuICAgICAgICAgICAgdGhpcy5zZXRUaHVtYih0aGlzLmVsZW0udmFsdWUpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZXRUaHVtYicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUaHVtYihudW0pIHtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gbnVtICogdGhpcy5zbGlkZXIub2Zmc2V0V2lkdGggLyAxMDAgLSB0aGlzLnRodW1iLm9mZnNldFdpZHRoIC8gMjtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCA8IDApIHRoaXMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgdGhpcy5ldmVudElucHV0ID0gbmV3IEN1c3RvbUV2ZW50KCdzZXRsZW5ndGgnLCB7XG4gICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLmxlbmd0aCArICdweCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5lbGVtLmRpc3BhdGNoRXZlbnQodGhpcy5ldmVudElucHV0KTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBOdW1lcmljSW5wdXQ7XG59KCk7XG5cbmV4cG9ydHMuTnVtZXJpY0lucHV0ID0gTnVtZXJpY0lucHV0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NjcmlwdC9zbGlkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc2NyaXB0L3NsaWRlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBhbGwgZXhwb3J0cyB1c2VkICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNsaWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTbGlkZXIob3B0aW9ucykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2xpZGVyKTtcblxuICAgICAgICB0aGlzLl9lbGVtID0gb3B0aW9ucy5lbGVtO1xuICAgICAgICB0aGlzLl9lbGVtQ2FwdHVyZSA9IHRoaXMuX2VsZW1DYXB0dXJlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3plcm9pbmdPdXQgPSB0aGlzLl96ZXJvaW5nT3V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX21vdmVBdCA9IHRoaXMuX21vdmVBdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9kcmFnc3RhcnQgPSB0aGlzLl9kcmFnc3RhcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fZWxlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9lbGVtQ2FwdHVyZSk7XG4gICAgICAgIHRoaXMuc2V0VmFsdWUgPSB0aGlzLnNldFZhbHVlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fdGh1bWIgPSB0aGlzLl9lbGVtLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX3RodW1iJyk7XG4gICAgICAgIHRoaXMuX3NsaWRlciA9IHRoaXMuX2VsZW0ucXVlcnlTZWxlY3RvcignLnNsaWRlcicpO1xuICAgICAgICB0aGlzLl9odG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTbGlkZXIsIFt7XG4gICAgICAgIGtleTogJ19lbGVtQ2FwdHVyZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZWxlbUNhcHR1cmUoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLl9kcmFnc3RhcnQpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlcl9fdGh1bWInKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9zbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW92ZUF0KTtcbiAgICAgICAgICAgIHRoaXMuX2h0bWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX3plcm9pbmdPdXQpO1xuXG4gICAgICAgICAgICB0aGlzLl9jb29yZHNUaHVtYiA9IHRoaXMuX2dldENvb3Jkcyh0aGlzLl90YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5fc2hpZnRYID0gdGhpcy5fZXZlbnQucGFnZVggLSB0aGlzLl9jb29yZHNUaHVtYi5sZWZ0O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfbW92ZUF0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9tb3ZlQXQoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2xpZGVyJykpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fc2xpZGVyQ29vcmRzID0gdGhpcy5fZ2V0Q29vcmRzKHRoaXMuX3NsaWRlcik7XG4gICAgICAgICAgICB0aGlzLl9sZWZ0VGh1bWIgPSB0aGlzLl9ldmVudC5wYWdlWCAtIHRoaXMuX3NsaWRlckNvb3Jkcy5sZWZ0IC0gdGhpcy5fc2hpZnRYO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbGVmdFRodW1iIDwgMCkgdGhpcy5fbGVmdFRodW1iID0gMDtcblxuICAgICAgICAgICAgdGhpcy5fcmlnaHRUaHVtYiA9IHRoaXMuX3NsaWRlci5vZmZzZXRXaWR0aCAtIHRoaXMuX3RodW1iLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbGVmdFRodW1iID4gdGhpcy5fcmlnaHRUaHVtYikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xlZnRUaHVtYiA9IHRoaXMuX3JpZ2h0VGh1bWI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5fbGVmdFRodW1iKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnc2V0VmFsdWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RodW1iLnN0eWxlLmxlZnQgPSB2YWx1ZSArICdweCc7XG4gICAgICAgICAgICB0aGlzLm51bWVyaWMgPSBNYXRoLnJvdW5kKHZhbHVlIC8gKHRoaXMuX3NsaWRlci5vZmZzZXRXaWR0aCAtIHRoaXMuX3RodW1iLm9mZnNldFdpZHRoKSAqIDEwMCk7XG5cbiAgICAgICAgICAgIHRoaXMudmFsdWVTbGlkZXIgPSBuZXcgQ3VzdG9tRXZlbnQoJ3NldHRpbmcnLCB7XG4gICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMubnVtZXJpY1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9zbGlkZXIuZGlzcGF0Y2hFdmVudCh0aGlzLnZhbHVlU2xpZGVyKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3plcm9pbmdPdXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3plcm9pbmdPdXQoKSB7XG4gICAgICAgICAgICB0aGlzLl9zbGlkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fbW92ZUF0KTtcbiAgICAgICAgICAgIHRoaXMuX2h0bWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX3plcm9pbmdPdXQpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfZHJhZ3N0YXJ0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kcmFnc3RhcnQoKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfZ2V0Q29vcmRzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRDb29yZHMoZWxlbSkge1xuICAgICAgICAgICAgdmFyIGJveCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG9wOiBib3gudG9wICsgcGFnZVlPZmZzZXQsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBib3guYm90dG9tICsgcGFnZVlPZmZzZXQsXG4gICAgICAgICAgICAgICAgbGVmdDogYm94LmxlZnQgKyBwYWdlWE9mZnNldCxcbiAgICAgICAgICAgICAgICByaWdodDogYm94LnJpZ2h0ICsgcGFnZVhPZmZzZXRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gU2xpZGVyO1xufSgpO1xuXG5leHBvcnRzLlNsaWRlciA9IFNsaWRlcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zdHlsZS9zcmMuY3NzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3N0eWxlL3NyYy5jc3MgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgYWxsIGV4cG9ydHMgdXNlZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyPz9yZWYtLTAtMSEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvbGliIS4vc3JjLmNzcyAqLyBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP3tcXFwiaW1wb3J0TG9hZGVyc1xcXCI6MX0hLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2xpYi9pbmRleC5qcyEuL3N0eWxlL3NyYy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dO1xuLy8gUHJlcGFyZSBjc3NUcmFuc2Zvcm1hdGlvblxudmFyIHRyYW5zZm9ybTtcblxudmFyIG9wdGlvbnMgPSB7fVxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMgKi8gXCIuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKHRydWUpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoLyohICEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlcj8/cmVmLS0wLTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2xpYiEuL3NyYy5jc3MgKi8gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz97XFxcImltcG9ydExvYWRlcnNcXFwiOjF9IS4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanMhLi9zdHlsZS9zcmMuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXI/P3JlZi0tMC0xIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIhLi9zcmMuY3NzICovIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/e1xcXCJpbXBvcnRMb2FkZXJzXFxcIjoxfSEuLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvbGliL2luZGV4LmpzIS4vc3R5bGUvc3JjLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmksIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuLyoqKi8gfSlcblxufSxbXCIuL2JpbmRlcl9jb21wLmpzXCJdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwLWJ1bmRsZS5qcyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikodW5kZWZpbmVkKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHksaHRtbHtoZWlnaHQ6MTAwJTt3aWR0aDoxMDIwcHg7bWFyZ2luOjAgYXV0bztwYWRkaW5nOjB9KntvdXRsaW5lOjAhaW1wb3J0YW50fS5ib3hfc2xpZGVye3dpZHRoOjMwMHB4O21hcmdpbjo1MHB4IGF1dG99LnRpdGxle3RleHQtYWxpZ246Y2VudGVyfS5zbGlkZXJ7d2lkdGg6MzEwcHg7aGVpZ2h0OjE1cHg7bWFyZ2luOjVweDttYXJnaW4tYm90dG9tOjUwcHg7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6IzY0NjQ2NCByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDAgMCxoc2xhKDAsMCUsMTAwJSwuNjUpLGhzbGEoMCwwJSwxMDAlLC4zNSkpfS5zbGlkZXIsLnNsaWRlcl9fdGh1bWJ7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IHJnYmEoMCwwLDAsLjUpIC0zcHggLTNweCA4cHgsaW5zZXQgaHNsYSgwLDAlLDEwMCUsLjkpIDNweCAzcHggOHB4LHJnYmEoMCwwLDAsLjgpIDNweCAzcHggOHB4IC0zcHg7Ym94LXNoYWRvdzppbnNldCAtM3B4IC0zcHggOHB4IHJnYmEoMCwwLDAsLjUpLGluc2V0IDNweCAzcHggOHB4IGhzbGEoMCwwJSwxMDAlLC45KSwzcHggM3B4IDhweCAtM3B4IHJnYmEoMCwwLDAsLjgpfS5zbGlkZXJfX3RodW1ie3dpZHRoOjE1cHg7aGVpZ2h0OjI1cHg7Ym9yZGVyLXJhZGl1czozcHg7cG9zaXRpb246cmVsYXRpdmU7bGVmdDowO3RvcDotNXB4O2JhY2tncm91bmQ6Ymx1ZTtjdXJzb3I6cG9pbnRlcn0uc2xpZGVyX3Nob3d7Ym9yZGVyLXJhZGl1czo1cHg7cGFkZGluZzo1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZDojZmYwO21hcmdpbjo0MHB4IGF1dG87d2lkdGg6MTIwcHg7Y29sb3I6I2NkNWM1Yztmb250LXNpemU6MThweDstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgcmdiYSgwLDAsMCwuNSkgLTNweCAtM3B4IDhweCxpbnNldCBoc2xhKDAsMCUsMTAwJSwuOSkgM3B4IDNweCA4cHgscmdiYSgwLDAsMCwuOCkgM3B4IDNweCA4cHggLTNweDtib3gtc2hhZG93Omluc2V0IC0zcHggLTNweCA4cHggcmdiYSgwLDAsMCwuNSksaW5zZXQgM3B4IDNweCA4cHggaHNsYSgwLDAlLDEwMCUsLjkpLDNweCAzcHggOHB4IC0zcHggcmdiYSgwLDAsMCwuOCl9LnZvbHVtZXtjb2xvcjpncmVlbn0ucHJlX2lucHV0e2NvbG9yOiNjZDVjNWM7Zm9udC1zaXplOjE4cHh9LnNsaWRlcl9idXR7ZGlzcGxheTpibG9jaztjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlcjtmb250Oml0YWxpYyAxNHB4LzEuMyBhcmlhbCxzYW5zLXNlcmlmO21hcmdpbjoxZW0gYXV0bztwYWRkaW5nOjFlbTtib3JkZXItcmFkaXVzOjEwcHg7YmFja2dyb3VuZDojNjQ2NDY0IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMCAwLGhzbGEoMCwwJSwxMDAlLC42NSksaHNsYSgwLDAlLDEwMCUsLjM1KSk7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IHJnYmEoMCwwLDAsLjUpIC0zcHggLTNweCA4cHgsaW5zZXQgaHNsYSgwLDAlLDEwMCUsLjkpIDNweCAzcHggOHB4LHJnYmEoMCwwLDAsLjgpIDNweCAzcHggOHB4IC0zcHg7Ym94LXNoYWRvdzppbnNldCAtM3B4IC0zcHggOHB4IHJnYmEoMCwwLDAsLjUpLGluc2V0IDNweCAzcHggOHB4IGhzbGEoMCwwJSwxMDAlLC45KSwzcHggM3B4IDhweCAtM3B4IHJnYmEoMCwwLDAsLjgpfVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyP3tcImltcG9ydExvYWRlcnNcIjoxfSEuLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvbGliIS4vc3R5bGUvc3JjLmNzc1xuLy8gbW9kdWxlIGlkID0gLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/e1wiaW1wb3J0TG9hZGVyc1wiOjF9IS4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanMhLi9zdHlsZS9zcmMuY3NzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbihzZWxlY3Rvcikge1xuXHRcdGlmICh0eXBlb2YgbWVtb1tzZWxlY3Rvcl0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdG1lbW9bc2VsZWN0b3JdID0gZm4uY2FsbCh0aGlzLCBzZWxlY3Rvcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1lbW9bc2VsZWN0b3JdXG5cdH07XG59KShmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldClcbn0pO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcblx0aWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXG4vLyBtb2R1bGUgaWQgPSAuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC8pL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzXG4vLyBtb2R1bGUgaWQgPSAuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtTbGlkZXJ9IGZyb20gJy4vc2NyaXB0L3NsaWRlci5qcyc7XG5pbXBvcnQge051bWVyaWNJbnB1dH0gZnJvbSAnLi9zY3JpcHQvbnVtX3NsaWRlci5qcydcbmltcG9ydCAnLi9zdHlsZS9zcmMuY3NzJztcblxuY2xhc3MgQmluZGVyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb24pIHtcbiAgICAgICAgdGhpcy5lbGVtID0gb3B0aW9uLmVsZW07XG4gICAgICAgIHRoaXMuc2xpZGVyRWxlbSA9IHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKGAuc2xpZGVyYCk7XG4gICAgICAgIHRoaXMudGh1bWJFbGVtID0gdGhpcy5lbGVtLnF1ZXJ5U2VsZWN0b3IoYC5zbGlkZXJfX3RodW1iYCk7XG5cbiAgICAgICAgdGhpcy5zbGlkZXJDb21wb25lbnQgPSBuZXcgU2xpZGVyKHtlbGVtOiB0aGlzLmVsZW19KTtcbiAgICAgICAgdGhpcy5udW1Db21wb25lbnQgPSBuZXcgTnVtZXJpY0lucHV0KHtlbGVtOiB0aGlzLmVsZW0ucXVlcnlTZWxlY3RvcihgLnNsaWRlcl9zaG93YCl9KTtcblxuICAgICAgICB0aGlzLnNldFZhbHVlSW5JbnB1dCA9IHRoaXMuc2V0VmFsdWVJbklucHV0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0VGh1bWIgPSB0aGlzLnNldFRodW1iLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFsZlZvbHVtZSA9IHRoaXMuaGFsZlZvbHVtZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuZWxlbS5hZGRFdmVudExpc3RlbmVyKGBzZXR0aW5nYCwgdGhpcy5zZXRWYWx1ZUluSW5wdXQpO1xuICAgICAgICB0aGlzLmVsZW0uYWRkRXZlbnRMaXN0ZW5lcihgc2V0bGVuZ3RoYCwgdGhpcy5zZXRUaHVtYik7XG4gICAgICAgIHRoaXMuZWxlbS5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIHRoaXMuaGFsZlZvbHVtZSk7XG4gICAgfVxuXG4gICAgc2V0VmFsdWVJbklucHV0KGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbS5xdWVyeVNlbGVjdG9yKGAuc2xpZGVyX3Nob3dgKS52YWx1ZSA9IGV2ZW50LmRldGFpbC52YWx1ZTtcbiAgICB9XG5cbiAgICBzZXRUaHVtYihldmVudCkge1xuICAgICAgICB0aGlzLmVsZW0ucXVlcnlTZWxlY3RvcihgLnNsaWRlcl9fdGh1bWJgKS5zdHlsZS5sZWZ0ID0gZXZlbnQuZGV0YWlsLmxlbmd0aDtcbiAgICB9XG5cbiAgICBoYWxmVm9sdW1lKGV2ZW50KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoIXRoaXMudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgc2xpZGVyX2J1dGApKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2xpZGVyQ29tcG9uZW50LnNldFZhbHVlKCh0aGlzLnNsaWRlckVsZW0ub2Zmc2V0V2lkdGggLSB0aGlzLnRodW1iRWxlbS5vZmZzZXRXaWR0aCkgLyAyKTtcbiAgICB9XG5cbn1cblxubmV3IEJpbmRlckNvbXBvbmVudCh7ZWxlbTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmJveF9zbGlkZXJgKX0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYmluZGVyX2NvbXAuanMiLCIndXNlIHN0cmljdCc7XG5cbmNsYXNzIE51bWVyaWNJbnB1dCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICB0aGlzLmVsZW0gPSBvcHRpb25zLmVsZW07XG4gICAgICAgIHRoaXMuc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnNsaWRlcmApO1xuICAgICAgICB0aGlzLnRodW1iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnNsaWRlcl9fdGh1bWJgKTtcblxuICAgICAgICB0aGlzLmNoZWNrVmFsdWUgPSB0aGlzLmNoZWNrVmFsdWUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dE51bSA9IHRoaXMuaW5wdXROdW0uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRUaHVtYiA9IHRoaXMuc2V0VGh1bWIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbGVtLmFkZEV2ZW50TGlzdGVuZXIoYGtleXByZXNzYCwgdGhpcy5pbnB1dE51bSk7XG4gICAgfVxuXG4gICAgaW5wdXROdW0oZXZlbnQpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgaWYoIWlzRmluaXRlKFN0cmluZy5mcm9tQ2hhckNvZGUoZXZlbnQua2V5Q29kZSkpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsZW0uYWRkRXZlbnRMaXN0ZW5lcihgaW5wdXRgLCB0aGlzLmNoZWNrVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tWYWx1ZSgpIHtcbiAgICAgICBpZiAodGhpcy5lbGVtLnZhbHVlID4gMTAwKSB0aGlzLmVsZW0udmFsdWUgPSAxMDA7XG4gICAgICAgdGhpcy5zZXRUaHVtYih0aGlzLmVsZW0udmFsdWUpO1xuICAgIH1cblxuICAgIHNldFRodW1iKG51bSkge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IChudW0gICAqIHRoaXMuc2xpZGVyLm9mZnNldFdpZHRoKSAvIDEwMCAtIHRoaXMudGh1bWIub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPCAwKSB0aGlzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgdGhpcy5ldmVudElucHV0ID0gbmV3IEN1c3RvbUV2ZW50KGBzZXRsZW5ndGhgLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBgJHt0aGlzLmxlbmd0aH1weGBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbGVtLmRpc3BhdGNoRXZlbnQodGhpcy5ldmVudElucHV0KTtcbiAgICB9XG59XG5cbmV4cG9ydCB7TnVtZXJpY0lucHV0fTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zY3JpcHQvbnVtX3NsaWRlci5qcyIsIid1c2Ugc3RyaWN0JztcblxuY2xhc3MgU2xpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2VsZW0gPSBvcHRpb25zLmVsZW07XG4gICAgICAgIHRoaXMuX2VsZW1DYXB0dXJlID0gdGhpcy5fZWxlbUNhcHR1cmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5femVyb2luZ091dCA9IHRoaXMuX3plcm9pbmdPdXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fbW92ZUF0ID0gdGhpcy5fbW92ZUF0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2RyYWdzdGFydCA9IHRoaXMuX2RyYWdzdGFydC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9lbGVtLmFkZEV2ZW50TGlzdGVuZXIoYG1vdXNlZG93bmAsIHRoaXMuX2VsZW1DYXB0dXJlKTtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZSA9IHRoaXMuc2V0VmFsdWUuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLl90aHVtYiA9IHRoaXMuX2VsZW0ucXVlcnlTZWxlY3RvcihgLnNsaWRlcl9fdGh1bWJgKTtcbiAgICAgICAgdGhpcy5fc2xpZGVyID0gdGhpcy5fZWxlbS5xdWVyeVNlbGVjdG9yKGAuc2xpZGVyYCk7XG4gICAgICAgIHRoaXMuX2h0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgX2VsZW1DYXB0dXJlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBldmVudDtcblxuICAgICAgICB0aGlzLl90YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihgZHJhZ3N0YXJ0YCwgdGhpcy5fZHJhZ3N0YXJ0KTtcblxuICAgICAgICBpZighdGhpcy5fdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgc2xpZGVyX190aHVtYmApKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoYG1vdXNlbW92ZWAsIHRoaXMuX21vdmVBdCk7XG4gICAgICAgIHRoaXMuX2h0bWwuYWRkRXZlbnRMaXN0ZW5lcihgbW91c2V1cGAsIHRoaXMuX3plcm9pbmdPdXQpO1xuXG4gICAgICAgIHRoaXMuX2Nvb3Jkc1RodW1iID0gdGhpcy5fZ2V0Q29vcmRzKHRoaXMuX3RhcmdldCk7XG4gICAgICAgIHRoaXMuX3NoaWZ0WCA9IHRoaXMuX2V2ZW50LnBhZ2VYIC0gdGhpcy5fY29vcmRzVGh1bWIubGVmdDtcbiAgICB9XG5cbiAgICBfbW92ZUF0KGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2V2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IGV2ZW50LnRhcmdldDtcblxuICAgICAgICBpZighdGhpcy5fdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgc2xpZGVyYCkpIHJldHVybjtcblxuICAgICAgICB0aGlzLl9zbGlkZXJDb29yZHMgPSB0aGlzLl9nZXRDb29yZHModGhpcy5fc2xpZGVyKTtcbiAgICAgICAgdGhpcy5fbGVmdFRodW1iID0gdGhpcy5fZXZlbnQucGFnZVggLSB0aGlzLl9zbGlkZXJDb29yZHMubGVmdCAtIHRoaXMuX3NoaWZ0WDtcblxuICAgICAgICBpZiAodGhpcy5fbGVmdFRodW1iIDwgMCkgdGhpcy5fbGVmdFRodW1iID0gMDtcblxuICAgICAgICB0aGlzLl9yaWdodFRodW1iID0gdGhpcy5fc2xpZGVyLm9mZnNldFdpZHRoIC0gdGhpcy5fdGh1bWIub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xlZnRUaHVtYiA+IHRoaXMuX3JpZ2h0VGh1bWIpIHtcbiAgICAgICAgICAgIHRoaXMuX2xlZnRUaHVtYiA9IHRoaXMuX3JpZ2h0VGh1bWI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuX2xlZnRUaHVtYik7XG4gICAgfVxuXG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdGh1bWIuc3R5bGUubGVmdCA9IGAke3ZhbHVlfXB4YDtcbiAgICAgICAgdGhpcy5udW1lcmljID0gTWF0aC5yb3VuZCh2YWx1ZSAgLyAodGhpcy5fc2xpZGVyLm9mZnNldFdpZHRoIC0gdGhpcy5fdGh1bWIub2Zmc2V0V2lkdGgpICogMTAwKTtcblxuICAgICAgICB0aGlzLnZhbHVlU2xpZGVyID0gbmV3IEN1c3RvbUV2ZW50KGBzZXR0aW5nYCwge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLm51bWVyaWMsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3NsaWRlci5kaXNwYXRjaEV2ZW50KHRoaXMudmFsdWVTbGlkZXIpO1xuICAgIH1cblxuICAgIF96ZXJvaW5nT3V0KCkge1xuICAgICAgICB0aGlzLl9zbGlkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihgbW91c2Vtb3ZlYCwgdGhpcy5fbW92ZUF0KTtcbiAgICAgICAgdGhpcy5faHRtbC5yZW1vdmVFdmVudExpc3RlbmVyKGBtb3VzZXVwYCwgdGhpcy5femVyb2luZ091dCk7XG4gICAgfVxuXG4gICAgX2RyYWdzdGFydCgpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBfZ2V0Q29vcmRzKGVsZW0pIHtcbiAgICAgICAgbGV0IGJveCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogYm94LnRvcCArIHBhZ2VZT2Zmc2V0LFxuICAgICAgICAgICAgYm90dG9tOiBib3guYm90dG9tICsgcGFnZVlPZmZzZXQsXG4gICAgICAgICAgICBsZWZ0OiBib3gubGVmdCArIHBhZ2VYT2Zmc2V0LFxuICAgICAgICAgICAgcmlnaHQ6IGJveC5yaWdodCArIHBhZ2VYT2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQge1NsaWRlcn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc2NyaXB0L3NsaWRlci5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0wLTEhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2xpYi9pbmRleC5qcyEuL3NyYy5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIFByZXBhcmUgY3NzVHJhbnNmb3JtYXRpb25cbnZhciB0cmFuc2Zvcm07XG5cbnZhciBvcHRpb25zID0ge31cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTAtMSEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvbGliL2luZGV4LmpzIS4vc3JjLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMC0xIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9saWIvaW5kZXguanMhLi9zcmMuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3N0eWxlL3NyYy5jc3Ncbi8vIG1vZHVsZSBpZCA9IC4vc3R5bGUvc3JjLmNzc1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9